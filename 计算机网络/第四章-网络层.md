# 网络层

![image-20220905105550345](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051055415.png)

## 4.1_1 网络层功能概述

数据报是分组的父类

![image-20220905105713766](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051057496.png)

功能1

![image-20220905105842707](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051058804.png)

功能2

![image-20220905105928772](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051059966.png)

功能3

> `拥塞`:全局性的,,是由于整个网络中负载过重,导致不得不丢弃大量分组
>
> `流量控制`:发送方发送数据速率太快,导致接收不及,因此需要流量控制

![image-20220905150213359](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051502925.png)

## 4.1_2 SDN的基本概念

### 路由器功能

![image-20220905151745095](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051517422.png)

> 转发:距离短,,使用硬件
>
> 选择:距离长,,使用软件

### 数据平面

![image-20220905152043079](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051520857.png)

### 控制平面

#### 1.传统方法/每路由器法

> 具体:路由器之间通过`交换路由`选择报文,
>
> 通过`路由选择处理器`计算出路由表和转发表

![image-20220905152403112](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051524531.png)

#### 2.SDN(软件定义网络)

> `远程控制器`实现控制平面功能,,计算和分发转发表

![image-20220905153553692](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051535888.png)

> `网络控制应用程序`:真正的SDN大脑,,用于计算路由转发表等..

![image-20220905154955455](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051549885.png)

##### 三个层次

1. 对于网络控制运用程序的`接口`层次
2. 网络范围状态`管理`层次
3. SDN控制器与交换机之间的`通信`层次

![image-20220905155455986](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051554288.png)

###### 习题

![image-20220905160035385](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051600576.png)

#### 对比

![image-20220905154308007](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051543760.png)

### 总结

![image-20220905160322000](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051603966.png)

## 4.2_1路由算法及路由协议

### 路由表

![image-20220905161621378](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051616460.png)

### 路由算法的分类

![image-20220905162031672](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051620947.png)

### 分层次的路由选择协议

> `自治系统`内部的协议 & 自治系统之间的协议

![image-20220905164156950](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051641328.png)

![image-20220905164313675](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051643451.png)

## 4.3_1 IP数据报格式

### TCP/IP协议栈

![image-20220905165243392](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051652831.png)

### IP数据报格式

> IP数据报=首部+数据部分
>
> - 首部:固定部分+非固定部分
>   - 固定部分:`20B` 大小
>
> - 数据部分:TCP/UDP属于`传输层的报文段`

![image-20220905165359676](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051654806.png)

#### 首部

- `首部长度`

![image-20220905170220805](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051702184.png)

- `协议`

![image-20220905170746574](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051707747.png)

- `填充`

![image-20220905171202643](C:\Users\29608\AppData\Roaming\Typora\typora-user-images\image-20220905171202643.png)

## 4.3_2 IP数据报分片

### 最大传输单元`MTU`

> 链路层数据帧可封装数据的上限

![image-20220905172226175](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051722948.png)

### IP数据报格式

![image-20220905193048646](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051930081.png)

#### 例题

![image-20220905193846231](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209051938550.png)

#### 各单位长度

> 一种八篇的首饰
>
> `1`总`8`片偏移首部长度`4`

![image-20220905194141404](C:\Users\29608\AppData\Roaming\Typora\typora-user-images\image-20220905194141404.png)

## 4.3_3 IPV4地址

### IP地址

> 哪一个网络的哪一个主机的标识符:表示一个位置

![image-20220905203010148](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052030174.png)

![image-20220905203231507](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052032449.png)

#### 分类IP地址

> `点分十进制`

![image-20220905203825766](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052038154.png)

##### 互联网中的IP地址

![image-20220905204228233](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052042912.png)

##### 分类

![image-20220905204347824](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052043224.png)

##### 特殊IP地址

> 路由器不转发:因为路由器可以隔离广播域...

![image-20220905205418237](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052054929.png)

##### 私有IP地址

> `NAT`协议可以实现内部IP地址和共有IP地址通信

![image-20220905205632510](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052056999.png)

> A类地址:如果网络号全1
>
> 也就是127,不能支配网络
>
> 因为这是一个`环回测试地址`,比较特殊

![image-20220905210248385](https://cdn.jsdelivr.net/gh/DZX-hhh/Pictures/images/202209052102404.png)

[子网的划分](#4.3_5 子网划分和子网掩码)

[构成超网(无分类编址方法)](#4.3_6 无分类编址CIDR)

## 4.3_5 子网划分和子网掩码

## 4.3_6 无分类编址CIDR
